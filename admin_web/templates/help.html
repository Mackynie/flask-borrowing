<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <title>Help / Guide - BARMA</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <style>
    :root {
      --red: #C40C0C;
      --dark-red: #a10b0b;
      --amber: #FFC100;
      --orange: #FF6500;
      --deep-orange: #FF8A08;
      --beige: #ECDCBF;
      --light-yellow: #F8F2DE;
    }

    body {
      background-color: var(--light-yellow);
    }

    /* Accordion styling */
    .accordion-button {
      background-color: var(--beige);
      color: var(--dark-red);
      font-weight: 500;
      transition: background 0.3s, color 0.3s;
    }

    .accordion-button:hover {
      background-color: var(--orange);
      color: #fff;
    }

    .accordion-button:focus {
      box-shadow: none;
    }

    .accordion-body ol li {
      margin-bottom: 0.8rem;
    }

    /* Section preview cards */
    .section-card {
      background-color: #fff;
      border-left: 5px solid var(--amber);
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 15px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.05);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
      height: 180px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }

    .section-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    }

    .section-card i {
      font-size: 2.2rem;
      margin-bottom: 10px;
      color: var(--deep-orange);
    }

    .section-card h5 {
      font-weight: 600;
      margin: 0 0 8px 0;
      color: var(--dark-red);
    }

    .section-card p {
      margin: 0;
      color: #555;
      flex-grow: 1;
    }

    main h1 {
      color: var(--dark-red);
    }
  </style>
</head>
<body>
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav class="col-md-2 d-md-block sidebar">
      <ul class="nav flex-column">
        <li class="nav-item text-center mt-3">
          <a href="{{ url_for('dashboard') }}" class="text-decoration-none text-light">
            <img src="{{ url_for('static', filename='img/logo3.png') }}" alt="BARMA Logo" style="max-width: 120px; margin-bottom: 1px;">
            <h1 class="mt-2">BARMA</h1>
          </a>
        </li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('dashboard') }}"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('assets_page') }}"><i class="bi bi-box-seam me-2"></i>Assets</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('reservations_page') }}"><i class="bi bi-calendar-check me-2"></i>Reservations</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('borrowings_page') }}"><i class="bi bi-arrow-left-right me-2"></i>Borrowing</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('manage_accounts') }}"><i class="bi bi-people-fill me-2"></i>Accounts</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('history_page') }}"><i class="bi bi-clock-history me-2"></i>History</a></li>
        <li class="nav-item"><a class="nav-link active" href="{{ url_for('help_page') }}"><i class="bi bi-question-circle me-2"></i>Guide</a></li>
        <li class="nav-item logout-btn mt-3 text-center">
          <a href="{{ url_for('logout') }}" class="btn btn-outline-light w-75">
            <i class="bi bi-box-arrow-right me-2"></i>Logout
          </a>
        </li>
      </ul>
    </nav>

    <!-- Main Content -->
    <main class="col-md-10 ms-sm-auto px-4 mt-4">
      <h1 class="fw-bold mb-4" data-aos="fade-down">User Guide</h1>

      <!-- Section Preview Cards -->
      <div class="row mb-4 g-3">
        <div class="col-md-4" data-aos="fade-up">
          <div class="section-card card-link" data-target="#collapseDashboard">
            <i class="bi bi-speedometer2"></i>
            <h5>Dashboard Overview</h5>
            <p>Quickly check system activity, pending requests, and summary cards for assets and accounts.</p>
          </div>
        </div>
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
          <div class="section-card card-link" data-target="#collapseAssets">
            <i class="bi bi-box-seam"></i>
            <h5>Assets Management</h5>
            <p>Add, edit, delete, export, and print assets efficiently with real-time search filters.</p>
          </div>
        </div>
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
          <div class="section-card card-link" data-target="#collapseReservations">
            <i class="bi bi-calendar-check"></i>
            <h5>Reservations</h5>
            <p>View available assets, check the calendar, filter, export, and print reservation data.</p>
          </div>
        </div>
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
          <div class="section-card card-link" data-target="#collapseBorrowings">
            <i class="bi bi-arrow-left-right"></i>
            <h5>Borrowings</h5>
            <p>Check available quantities, manage requests, and export or print borrowing lists.</p>
          </div>
        </div>
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="400">
          <div class="section-card card-link" data-target="#collapseAccounts">
            <i class="bi bi-people-fill"></i>
            <h5>Accounts Management</h5>
            <p>Verify, restrict, preview, and manage resident accounts with ease.</p>
          </div>
        </div>
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="500">
          <div class="section-card card-link" data-target="#collapseHistory">
            <i class="bi bi-clock-history"></i>
            <h5>History Logs</h5>
            <p>View all logs, filter by type, date, status, and export or print records.</p>
          </div>
        </div>
      </div>

      <!-- Accordion Sections -->
      <div class="accordion" id="helpAccordion">

        <!-- Dashboard -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingDashboard">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDashboard" aria-expanded="true" aria-controls="collapseDashboard">
              Dashboard
            </button>
          </h2>
          <div id="collapseDashboard" class="accordion-collapse collapse show" aria-labelledby="headingDashboard" data-bs-parent="#helpAccordion">
            <div class="accordion-body">
              <ol>
                <li>Navigate to the Dashboard by clicking <strong>Dashboard</strong> on the left sidebar.</li>
                <li>View the summary cards at the top to see:
                  <ul>
                    <li>Total Assets</li>
                    <li>Registered Resident Accounts</li>
                    <li>Pending Reservations and Borrowing Requests</li>
                  </ul>
                </li>
                <li>In the "Pending" tab:
                  <ul>
                    <li>Approve or reject <strong>reservations</strong> using the green <strong>Approve</strong> button or red <strong>Reject</strong> button.</li>
                    <li>Approve or reject <strong>borrowings</strong> using the same buttons.</li>
                    <li>Rejecting will prompt you to enter a reason.</li>
                  </ul>
                </li>
                <li>In the "Active" tab:
                  <ul>
                    <li>View currently approved borrowings.</li>
                    <li>If a return request is made, click <strong>Approve Return</strong> to accept the return.</li>
                  </ul>
                </li>
                <li>Click on the summary cards to directly navigate to <strong>Assets</strong> or <strong>Accounts</strong> pages.</li>
              </ol>
            </div>
          </div>
        </div>

        <!-- Assets -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingAssets">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAssets" aria-expanded="false" aria-controls="collapseAssets">
              Assets Management
            </button>
          </h2>
          <div id="collapseAssets" class="accordion-collapse collapse" aria-labelledby="headingAssets" data-bs-parent="#helpAccordion">
            <div class="accordion-body">
              <ol>
                <li>Go to <strong>Assets</strong> from the sidebar to manage all asset items.</li>
                <li>Use the <strong>Search</strong> bar at the top-left to filter assets by name, quantity, or classification in real-time.</li>
                <li>To <strong>add a new asset</strong>, click the <strong>Add Asset</strong> button:
                  <ul>
                    <li>Fill in the asset name, quantity, and classification.</li>
                    <li><strong>Note:</strong> Duplicate asset names are not allowed.</li>
                  </ul>
                </li>
                <li>Edit or delete an asset using the buttons in the <strong>Actions</strong> column:
                  <ul>
                    <li>The pencil icon opens the edit modal for updating asset details.</li>
                    <li>The trash icon deletes the asset after confirmation.</li>
                  </ul>
                </li>
                <li>Use the <strong>Export to PDF</strong> button to download a filtered or full list of assets:
                  <ul>
                    <li>The exported report includes logos, table, search filter, print date, and the admin’s name.</li>
                  </ul>
                </li>
                <li>Use the <strong>Print</strong> button to print a filtered or full asset table directly from the browser.</li>
              </ol>
            </div>
          </div>
        </div>

        <!-- Reservations -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingReservations">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseReservations" aria-expanded="false" aria-controls="collapseReservations">
              Reservations
            </button>
          </h2>
          <div id="collapseReservations" class="accordion-collapse collapse" aria-labelledby="headingReservations" data-bs-parent="#helpAccordion">
            <div class="accordion-body">
              <ol>
                <li>Click <strong>Reservations</strong> in the sidebar to view all reservable assets.</li>
                <li>Use the <strong>Search Bar</strong> at the top to filter assets by name in real-time.</li>
                <li>View all reservable assets in the table, including the asset name and other details.</li>
                <li>Click the <strong>View Reservation Calendar</strong> button to open a calendar showing all reservations:
                  <ul>
                    <li>Filter the calendar by selecting a specific asset from the dropdown.</li>
                    <li>Check available and reserved dates for each asset.</li>
                  </ul>
                </li>
                <li>Export the reservation list using the <strong>Export to PDF</strong> button:
                  <ul>
                    <li>The exported PDF includes logos, table data, applied search filters, the current date, and the admin's name.</li>
                  </ul>
                </li>
                <li>Print the reservation table directly from the browser using the <strong>Print</strong> button.</li>
                <li>The table updates dynamically as you type in the search bar, showing only the relevant records.</li>
              </ol>
            </div>
          </div>
        </div>

        <!-- Borrowings -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingBorrowings">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBorrowings" aria-expanded="false" aria-controls="collapseBorrowings">
              Borrowings
            </button>
          </h2>
          <div id="collapseBorrowings" class="accordion-collapse collapse" aria-labelledby="headingBorrowings" data-bs-parent="#helpAccordion">
            <div class="accordion-body">
              <ol>
                <li>Click <strong>Borrowing</strong> in the sidebar</li>
                <li>Use the <strong>Search Bar</strong> at the top to filter assets by name in real-time.</li>
                <li>Check the available quantity for each asset in the table.</li>
                <li>Export a filtered or complete borrowing list to PDF by clicking the <strong>Export to PDF</strong> button:
                  <ul>
                    <li>The report includes logos, table data, search filters, current date, and your name.</li>
                  </ul>
                </li>
                <li>Print the borrowing table directly from the browser using the <strong>Print</strong> button.</li>
                <li>The table dynamically updates as you type in the search bar, showing only the relevant records.</li>
              </ol>
            </div>
          </div>
        </div>

        <!-- Accounts -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingAccounts">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAccounts" aria-expanded="false" aria-controls="collapseAccounts">
              Accounts
            </button>
          </h2>
          <div id="collapseAccounts" class="accordion-collapse collapse" aria-labelledby="headingAccounts" data-bs-parent="#helpAccordion">
            <div class="accordion-body">
              <ol>
                <li>Click <strong>Accounts</strong> from the sidebar to view all user accounts.</li>
                <li>Pending resident accounts will appear at the top under <em>Pending Resident Accounts</em>. You can:
                  <ul>
                    <li>Verify the account using the <strong>Verify</strong> button.</li>
                    <li>Reject the account using the <strong>Reject</strong> button. Rejection will permanently delete the account.</li>
                    <li>Preview uploaded <strong>ID</strong> and <strong>Selfie</strong> images in a modal or download them for verification.</li>
                  </ul>
                </li>
                <li>Approved residents are listed under <em>Resident List</em>. You can:
                  <ul>
                    <li>Search for residents in real-time using the search bar.</li>
                    <li>Preview their uploaded ID or selfie images, or download them.</li>
                    <li>Restrict or unrestrict a resident using the <strong>Restrict / Unrestrict</strong> button.
                      <ul>
                        <li><strong>Automatic Restriction:</strong> Some accounts may automatically be restricted the day after the return date if the resident did not return the asset. Restricted users cannot login until unrestrained by an admin.</li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ol>
            </div>
          </div>
        </div>

        <!-- History -->
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingHistory">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseHistory" aria-expanded="false" aria-controls="collapseHistory">
              History
            </button>
          </h2>
          <div id="collapseHistory" class="accordion-collapse collapse" aria-labelledby="headingHistory" data-bs-parent="#helpAccordion">
            <div class="accordion-body">
              <ol>
                <li>Click <strong>History</strong> in the sidebar to view logs for borrowings and reservations.</li>
                <li>Use the <strong>Search Bar</strong> to filter history records by resident name, item, or status in real-time.</li>
                <li>Use the <strong>Date Filter</strong> to view records for a specific date.</li>
                <li>Use the <strong>Status Filter</strong> to view records with specific statuses: Approved, Rejected, Returned, or Pending.</li>
                <li>Use the <strong>Type Buttons</strong> to filter between Borrowing, Reservation, or Show All records.</li>
                <li>Click <strong>Export to PDF</strong> to download the filtered history:
                  <ul>
                    <li>The PDF includes logos, table data, applied filters, print date, and your username.</li>
                  </ul>
                </li>
                <li>Click <strong>Print</strong> to print the filtered records directly from the browser.</li>
                <li>The table updates dynamically as you type or change filters, showing only the relevant records.</li>
              </ol>
            </div>
          </div>
        </div>

      </div>
    </main>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  AOS.init();

  // Smooth scroll and expand accordion when card clicked
  document.querySelectorAll('.card-link').forEach(card => {
      card.addEventListener('click', function() {
          const targetSelector = this.getAttribute('data-target');
          const targetCollapse = document.querySelector(targetSelector);
          const bsCollapse = new bootstrap.Collapse(targetCollapse, {toggle: true});
          targetCollapse.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
  });
</script>
</body>
</html>
